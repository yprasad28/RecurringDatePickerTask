(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1905:(e,t,a)=>{Promise.resolve().then(a.bind(a,2396))},2396:(e,t,a)=>{"use strict";a.d(t,{default:()=>g,P:()=>c});var l=a(5155),r=a(2115);let s=()=>{let{recurrenceRule:e,setRecurrenceRule:t}=c(),a=a=>{t({...e,type:a,daysOfWeek:"weekly"===a?[0]:void 0})};return(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recurrence Type"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"daily",label:"Daily",description:"Every day"},{value:"weekly",label:"Weekly",description:"Every week"},{value:"monthly",label:"Monthly",description:"Every month"},{value:"yearly",label:"Yearly",description:"Every year"}].map(t=>(0,l.jsxs)("button",{onClick:()=>a(t.value),className:"p-3 rounded-lg border-2 transition-all duration-200 ".concat(e.type===t.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"),children:[(0,l.jsx)("div",{className:"font-medium",children:t.label}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:t.description})]},t.value))})]})},n=()=>{var e;let{recurrenceRule:t,setRecurrenceRule:a}=c(),r=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}],s=e=>{a({...t,interval:Math.max(1,e)})},n=e=>{let l=t.daysOfWeek||[],r=l.includes(e)?l.filter(t=>t!==e):[...l,e].sort();a({...t,daysOfWeek:r})};return(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4 mt-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Customization"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Every ",t.interval," ","daily"===t.type?"day(s)":"weekly"===t.type?"week(s)":"monthly"===t.type?"month(s)":"year(s)"]}),(0,l.jsx)("input",{type:"number",min:"1",max:"99",value:t.interval,onChange:e=>s(parseInt(e.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),"weekly"===t.type&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days of the week"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:r.map(e=>(0,l.jsx)("button",{onClick:()=>n(e.value),className:"p-2 rounded-md text-sm transition-colors ".concat((t.daysOfWeek||[]).includes(e.value)?"bg-blue-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:e.label},e.value))})]}),"monthly"===t.type&&(0,l.jsx)("div",{className:"flex flex-col gap-4",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("select",{value:t.weekOfMonth||1,onChange:e=>a({...t,weekOfMonth:parseInt(e.target.value,10)}),className:"px-3 py-2 border border-gray-300 rounded-md",children:[(0,l.jsx)("option",{value:1,children:"First"}),(0,l.jsx)("option",{value:2,children:"Second"}),(0,l.jsx)("option",{value:3,children:"Third"}),(0,l.jsx)("option",{value:4,children:"Fourth"}),(0,l.jsx)("option",{value:5,children:"Last"})]}),(0,l.jsx)("select",{value:null!==(e=t.dayOfWeek)&&void 0!==e?e:0,onChange:e=>a({...t,dayOfWeek:parseInt(e.target.value,10)}),className:"px-3 py-2 border border-gray-300 rounded-md",children:r.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,l.jsx)("span",{className:"self-center text-sm text-gray-600",children:"of the month"})]})})]})},d=()=>{let{dateRange:e,setDateRange:t}=c(),a=e=>e.toISOString().split("T")[0],r=a=>{let l=new Date(a);t({...e,startDate:l})},s=a=>{if(a){let l=new Date(a);t({...e,endDate:l})}else t({...e,endDate:void 0})};return(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4 mt-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Date Range"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),(0,l.jsx)("input",{type:"date",value:a(e.startDate),onChange:e=>r(e.target.value),min:a(new Date),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("input",{type:"date",value:e.endDate?a(e.endDate):"",onChange:e=>s(e.target.value),min:a(e.startDate),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Select end date"}),(0,l.jsx)("button",{onClick:()=>{t({...e,endDate:void 0})},className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"No end date (repeats indefinitely)"})]})]}),(0,l.jsx)("div",{className:"bg-blue-50 rounded-md p-3",children:(0,l.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,l.jsx)("strong",{children:"Summary:"})," Starting from"," ",e.startDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),e.endDate&&(0,l.jsxs)(l.Fragment,{children:[" ","until"," ",e.endDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),!e.endDate&&" (no end date)"]})})]})},i=()=>{let{selectedDates:e,dateRange:t}=c(),[a,s]=(0,r.useState)(new Date),n=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),d=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),i=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),o=e=>e>=t.startDate&&(!t.endDate||e<=t.endDate),u=t=>e.some(e=>i(e,t));return(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mt-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Calendar Preview"}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("button",{onClick:()=>{s(new Date(a.getFullYear(),a.getMonth()-1,1))},className:"p-2 rounded-md hover:bg-gray-200 transition-colors",children:"←"}),(0,l.jsxs)("h4",{className:"text-lg font-semibold",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]," ",a.getFullYear()]}),(0,l.jsx)("button",{onClick:()=>{s(new Date(a.getFullYear(),a.getMonth()+1,1))},className:"p-2 rounded-md hover:bg-gray-200 transition-colors",children:"→"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden border",children:[(0,l.jsx)("div",{className:"grid grid-cols-7 bg-gray-100",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,l.jsx)("div",{className:"p-2 text-center text-sm font-medium text-gray-600",children:e},e))}),(0,l.jsx)("div",{className:"grid grid-cols-7",children:(()=>{let e=[],t=n(a),l=d(a);for(let t=0;t<l;t++)e.push(null);for(let l=1;l<=t;l++)e.push(new Date(a.getFullYear(),a.getMonth(),l));return e})().map((e,t)=>(0,l.jsx)("div",{className:"p-2 text-center text-sm border-r border-b border-gray-200 min-h-[40px] flex items-center justify-center ".concat(e?o(e)?u(e)?"bg-blue-500 text-white font-medium":"bg-white text-gray-700 hover:bg-gray-50":"bg-gray-100 text-gray-400":"bg-gray-50"),children:e?e.getDate():""},t))})]}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-4 text-xs",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,l.jsx)("span",{children:"Selected"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-100 rounded"}),(0,l.jsx)("span",{children:"Out of range"})]})]})]})},o=(0,r.createContext)(void 0),c=()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useRecurringDatePicker must be used within a RecurringDatePickerProvider");return e},u=e=>{let{children:t}=e,[a,s]=(0,r.useState)({type:"daily",interval:1}),[n,d]=(0,r.useState)({startDate:new Date}),[i,c]=(0,r.useState)([]);return r.useEffect(()=>{c(function(e,t){let a=[];if(!t.startDate)return a;let l=new Date(t.startDate),r=new Date(t.endDate?t.endDate:l.getTime()+2592e6),s=new Date(l);for(;s<=r;){let t=!1;switch(e.type){case"daily":t=!0;break;case"weekly":e.daysOfWeek&&e.daysOfWeek.includes(s.getDay())&&(t=!0);break;case"monthly":if(e.weekOfMonth&&void 0!==e.dayOfWeek){let t=s.getFullYear(),n=s.getMonth(),d=0,i=null;if(e.weekOfMonth<5)for(let a=1;a<=31;a++){let l=new Date(t,n,a);if(l.getMonth()!==n)break;if(l.getDay()===e.dayOfWeek&&++d===e.weekOfMonth){i=l;break}}else for(let a=31;a>=1;a--){let l=new Date(t,n,a);if(l.getMonth()===n&&l.getDay()===e.dayOfWeek){i=l;break}}i&&i>=l&&i<=r&&a.push(i)}else s.getDate()===l.getDate()&&(t=!0);break;case"yearly":let n=new Date(s.getFullYear(),l.getMonth(),l.getDate());n>=l&&n<=r&&n.getFullYear()===s.getFullYear()&&a.push(n),s.setFullYear(s.getFullYear()+e.interval);continue}switch(t&&a.push(new Date(s)),e.type){case"daily":s.setDate(s.getDate()+e.interval);break;case"weekly":s.setDate(s.getDate()+1);break;case"monthly":s.setMonth(s.getMonth()+e.interval)}}return a}(a,n))},[a,n]),(0,l.jsx)(o.Provider,{value:{recurrenceRule:a,dateRange:n,setRecurrenceRule:s,setDateRange:d,selectedDates:i},children:t})},g=()=>(0,l.jsx)(u,{children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Recurring Date Picker"}),(0,l.jsx)(s,{}),(0,l.jsx)(n,{}),(0,l.jsx)(d,{}),(0,l.jsx)(i,{})]})})}},e=>{var t=t=>e(e.s=t);e.O(0,[441,587,358],()=>t(1905)),_N_E=e.O()}]);